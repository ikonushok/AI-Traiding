Домашнее задание
## Использование Нейронных сетей в трейдинге. Прогноз тренда.
Для того, чтобы все участники были в равных условиях, все обучения эксперименты мы проводим на данных ДО 31.12.2018г

2019 год используется для проверки результативности модели. Данные после 31.12.2018 нейронка видеть НЕ ДОЛЖНА!
Разрешается только АВТОМАТИЧЕСКОЕ дообучение в течении 2019 года.

Результат работы оценивается ТОЛЬКО ПРИ НАЛИЧИИ [Журнала торговли](https://github.com/ikonushok/AI-Traiding/blob/main/Open%20Lesson%20AI_Trading/data/Val_153547_t14_e30_SBER_Conv_1h_Up_v1.txt) в виде (дата, цена Close, кол-во покупаемых или проданных акций).

## Рассмотрим основные направления совершенствования кода урока:
1.  Улучшение качества обучения нейронной сети, меняя ее архитектуру и гиперпараметры
2.  Подбор оптимальных тренда и ансамблей
3.  Настройка автоматического дообучения модели в ходе торговли
4.  Применение самописных метрик и коллбэков, считающих после каждой эпохи прибыль от торговли

Все варианты этого Домашнего задания будут, тем или иным образом, касаться вышеперечисленных пунктов.

----

## Задания уровня ultra-light:
1.	Переписать код урока
2.	Написать код автоматического подбора ансамбля и тренда для максимизации прибыли от торговли
3.  Подобрать оптимальные параметры
4.  Смоделировать торговлю так, как будто нейронка распознала 100% тренда и определить MAX теоретическую прибыль от торговли по заданным параметрам без комиссии брокера и с учетом комиссии брокера в 0.4% от оборота
5.  Написать выводы о перспективах применения прогнозирования тренда в алгоритмическом трейдинге

Разбор: 

## Задания уровня light:
### Вариант 1:
1.	Написать код для торговли в шорт. Написать функцию расчета прибыли от торговли в шорт с учетом комиссии брокера 0.4% от оборота
2.  Написать выводы о целесообразности такого подхода

### Вариант 2:
1.  Написать код автоматического дообучения модели в 2019 году
2.  Журнал торговли должен быть один на весь год, а не начинаться заново после каждого дообучения
3.  При дообучении модели мы не создаем новую, а именно доучиваем созданную в 2018 году. Сохраняя ее после каждого дообучения и позволяя потом какое-то время торговать.
4.  Провести эксперименты и определить оптимальную частоту дообучения "поля доходности"
5.  Написать выводы о целесообразности такого подхода

Разбор: 
 
## Задания уровня pro:
### Вариант 1:
1.  Выполнить задание Light и конкатенировать обе нейронки (для торговли в лонг и шорт)
2.  Написать новую функцию для расчета прибыли от торговли с учетом комиссии брокера 0.4%
3.  Написать выводы о целесообразности такого подхода

### Вааринт 2:
1.  Написать нейронку, использующую слой ConvLSTM
2.  Добиться максимально высокой прибыли от торговли.
Важно, чтобы результат был стабилен, а не "скакал" при перезапусках кода
3.  Написать выводы о целесообразности такого подхода

Разбор: 

## Задания уровня ultra-pro:
### Вариант 1: 
1.  Дописать в код урока коллбэки, считающие после каждой эпохи:
      - Прибыть от торговли и сохраняющий лучшую модель
      - Прибыть от торговли и замедляющие скорость обучения, если прибыль не увеличивалась 4 эпохи подряд 
2.  Обучить модель
3.  Написать выводы о целесообразности их использования

### Вариант 2: 
1.  Дописать в код урока метрику, максимизирующую прибыль торговли.
2.  Обучить модель
3.  Написать выводы о целесообразности такого подхода

### Вариант 3: 
1.  Применить U-net или PSP-net для определения тренда
2.  Обучить модель
3.  Написать выводы о целесообразности такого подхода

Разбор: 

## Задание для Трейдеров:
1.  Создать единую комплексную Стратегию торговли на основе предсказания тренда.
3.  Учесть в своей Стратегии:
    - Подбор оптимальных тренда и ансамбля
    - Непрерывное ведение [Журнала торговли](https://github.com/ikonushok/AI-Traiding/blob/main/Open%20Lesson%20AI_Trading/data/Val_153547_t14_e30_SBER_Conv_1h_Up_v1.txt)
    - Автоматическое дообучение в 2019 году
    - Добавить самописные коллбэки и метрики, максимизирующие торголю и управляющие обучением нейронки
    - Улучшить точность определения тренда путем изменения архитектуры модели
    
Разбор: 